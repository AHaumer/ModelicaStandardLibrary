<html><head><title>Modelica.Magnetic.FluxTubes.UsersGuide.Hysteresis</title></head>
<style>
body { font-family: Droid Serif,serif; font-size: 16px; line-height: 24px;  }
p, dt, pre, blockquote, ol, ul, table, hr { margin-top: 24px; margin-bottom: 0 }
img { margin-top: 24px }
img.icon, embed.icon { float: right; margin: 0 0 24px 24px; border: 0 }
h1, h2, h3, h4, h5, th { font-family: Droid Sans,sans-serif }
h1 { font-size: 26px; line-height: 26px; margin: 18px 0 0 0 }h2 { font-size: 21px; line-height: 24px; margin: 26px 0 -2px 0 }h3 { font-size: 18px; line-height: 24px; margin: 27px 0 -3px 0 }h4 { font-size: 16px; line-height: 24px; margin: 28px 0 -4px 0; font-style: italic }h1 .subtitle, h2 .subtitle { font-size: 16px; font-style: italic }
h1 br, h2 br { margin-bottom: 10px }
p.interface { background-color: #EEE; padding: 20px; border: 1px solid #CCE; border-radius: 14px }
code, pre, p.interface { font-family: Droid Sans Mono,monospace; font-size: 14px; line-height: 20px }
li, dd, li p, dd p, li dt, dd dt, li pre, dd pre, li blockquote, dd blockquote, li table, dd table { margin-top: 11px; margin-bottom: 11px }
dt + dt, dd, ul ul { margin-top: 0 }
blockquote pre, blockquote blockquote { margin-top: 0; margin-bottom: 0 }
ul ul li { margin-top:5px; margin-bottom:6px }
td, th { vertical-align: top; font-size: 14px; line-height: 20px }
th { background-color: #EEE }
td p, th p { margin-top: 10px }
td code, th code { font-size: 13px }
hr { border: 0; border-bottom: 1px dotted darkred; clear: right }
</style>
<body>
<a name="Hysteresis"><h1><embed class="icon" src="../../../../images/icon0002.svg" width="203" height="203" />
Package <a href="../../../../index.html">Modelica</a>.&#8203;<a href="../../../index.html">Magnetic</a>.&#8203;<a href="../../index.html">FluxTubes</a>.&#8203;<a href="../index.html">UsersGuide</a>.&#8203;Hysteresis<br><span class="subtitle">Hysteresis</span></h1></a>
<h3>Information</h3>
<p>


<h4>Introduction</h4>

<p>
The elements provided in the package Shapes.HysteresisAndMagnets allow for consideration of ferromagnetic and dynamic hysteresis during the simulation of electromagnetic networks. The ferromagnetic hysteresis is a material property of the core material and frequency independent. Due to eddy currents the static ferromagnetic hysteresis is superposed by a frequency dependent hysteresis when the ferromagnetic material is exposed to an alternating magnetic field. Fig 1 exemplary shows the simulated hysteresis characteristics of a simple inductor with an iron core for three different excitation frequencies. Thereby, the 0 Hz hysteresis loop represents the static ferromagnetic hysteresis of the core material. The widening of the loops for higher frequencies is due to eddy currents induced in the core material.
</p>

<table cellspacing="0" cellpadding="2" border="0">
  <caption align="bottom"><strong>Fig. 1:</strong> Inductor with ferromagnetic core and hysteresis effects; (a) diagram of the network model; (b) simulated hysteresis characteristics of the core for different excitation frequencies of 0, 10 and 100 Hz (the example model can be found at: <a href="../../Examples/Hysteresis/index.html#InductorWithHysteresis">Examples.Hysteresis.InductorWithHysteresis</a>)</caption>
  <tr>
    <td>
      <img src="../../../../../Images/Magnetic/FluxTubes/UsersGuide/Hysteresis/InductorWithHysteresis_DiagramAndSim.png">
   </td>
  </tr>
</table>

<p>
Several models to describe the static hysteresis behavior of ferromagnetic materials are known. In this library two of them are implemented. The simple but fast <a href="StaticHysteresis/index.html#Tellinen">Tellinen hysteresis model</a> and the more accurate but complex <a href="StaticHysteresis/index.html#Preisach">Preisach hysteresis model</a>. Click the links for a short description of both models.
</p>

<h4>Flux tube elements of the Package HysteresisAndMagnets</h4>

<table border=1 cellspacing=0 cellpadding=2>
 <tr>
  <th>Name / Icon</th><th>Description</th>
 </tr>

 <tr>
  <td><a href="../../Shapes/HysteresisAndMagnets/index.html#GenericHystTellinenSoft">GenericHystTellinenSoft</a><br><img src="../../../../../Images/Magnetic/FluxTubes/UsersGuide/Hysteresis/GenericHystTellinenS.png">
  </td>
  <td>
  Flux tube element for modeling soft magnetic materials with ferromagnetic and dynamic hysteresis (eddy currents). The ferromagnetic hysteresis behavior is defined by the <a href="StaticHysteresis/index.html#Tellinen">Tellinen hysteresis model</a>. The shape of the limiting hysteresis loop is described by simple hyperbolic tangent functions with 4 parameters. Therefore, the hysteresis shape variety is limited but the parameterization of the model is very simple and the model is relatively fast and robust.
  </td>
 </tr>

 <tr>
  <td><a href="../../Shapes/HysteresisAndMagnets/index.html#GenericHystTellinenHard">GenericHystTellinenHard</a><br><img src="../../../../../Images/Magnetic/FluxTubes/UsersGuide/Hysteresis/GenericHystTellinenH.png">
  </td>
  <td>
  Flux tube element for modeling the ferromagnetic (static) hysteresis of hard magnetic materials. The ferromagnetic hysteresis behavior is defined by the <a href="StaticHysteresis/index.html#Tellinen">Tellinen hysteresis model</a>. The shape of the limiting hysteresis loop is described by simple hyperbolic tangent functions with 4 parameters.
  </td>
 </tr>

 <tr>
  <td><a href="../../Shapes/HysteresisAndMagnets/index.html#GenericHystTellinenEverett">GenericHystTellinenEverett</a><br><img src="../../../../../Images/Magnetic/FluxTubes/UsersGuide/Hysteresis/GenericHystTellinenE.png">
  </td>
  <td>
  Flux tube element for modeling soft magnetic materials with ferromagnetic and dynamic hysteresis (eddy currents). The ferromagnetic hysteresis behavior is defined by the <a href="StaticHysteresis/index.html#Tellinen">Tellinen hysteresis model</a>. The Shape of the limiting ferromagnetic hysteresis loop is specified by an analytical description of the Everett function, which is also used to parameterize the <a href="../../Shapes/HysteresisAndMagnets/index.html#GenericHystPreisachEverett">GenericHystPreisachEverett</a> model. A library of predefined parameter sets can be found in <a href="../../Material/HysteresisEverettParameter/index.html">FluxTubes.Material.HysteresisEverettParameter</a>.
  </td>
 </tr>

 <tr>
  <td><a href="../../Shapes/HysteresisAndMagnets/index.html#GenericHystTellinenTable">GenericHystTellinenTable</a><br><img src="../../../../../Images/Magnetic/FluxTubes/UsersGuide/Hysteresis/GenericHystTellinenT.png">
  </td>
  <td>
  Flux tube element for modeling magnetic materials with ferromagnetic and dynamic hysteresis (eddy currents). The ferromagnetic hysteresis behavior is defined by the <a href="StaticHysteresis/index.html#Tellinen">Tellinen hysteresis model</a>. The rising and falling branch of the limiting ferromagnetic hysteresis loop are specified by table data. Therefore, almost any hysteresis shapes are possible. A library with predefined tables can be found at <a href="../../Material/HysteresisTableData/index.html">FluxTubes.Material.HysteresisTableData</a>.
  </td>
 </tr>

 <tr>
  <td><a href="../../Shapes/HysteresisAndMagnets/index.html#GenericHystPreisachEverett">GenericHystPreisachEverett</a><br><img src="../../../../../Images/Magnetic/FluxTubes/UsersGuide/Hysteresis/GenericHystPreisachE.png">
  </td>
  <td>
  Flux tube element for modeling magnetic materials with ferromagnetic and dynamic hysteresis (eddy currents). The ferromagnetic hysteresis behavior is defined by the
<a href="StaticHysteresis/index.html#Preisach">Preisach hysteresis model</a>. The Shape of the limiting ferromagnetic hysteresis loop is specified by an analytical description of the Everett function. A library of predefined parameter sets can be found in <a href="../../Material/HysteresisEverettParameter/index.html">FluxTubes.Material.HysteresisEverettParameter</a>.
  </td>
 </tr>

 <tr>
  <td><a href="../../Shapes/HysteresisAndMagnets/index.html#GenericHystTellinenPermanentMagnet">GenericHystTellinenPermanentMagnet</a><br><img src="../../../../../Images/Magnetic/FluxTubes/UsersGuide/Hysteresis/GenericHystTellinenPM.png">
  </td>
  <td>
  Flux tube element for modeling the hard magnetic hysteresis of permanent magnets. The model is similar to <a href="../../Shapes/HysteresisAndMagnets/index.html#GenericHystTellinenHard">GenericHystTellinenHard</a> but has an initial magnetization preset of -100% and an adapted icon for better readability of the diagram.
  </td>
 </tr>

 <tr>
  <td><a href="../../Shapes/HysteresisAndMagnets/index.html#GenericLinearPermanentMagnet">GenericLinearPermanentMagnet</a><br><img src="../../../../../Images/Magnetic/FluxTubes/UsersGuide/Hysteresis/GenericLinearPM.png">
  </td>
  <td>
  Simple model of a linear permanent Magnet. Typical characteristics of common permanent magnetic materials can be found at <a href="../../Material/HardMagnetic/index.html">FluxTubes.Material.HardMagnetic</a>.
  </td>
 </tr>

</table>

<p>Extends from <code><a href="../../../../Icons/index.html#Information">Modelica.&#8203;Icons.&#8203;Information</a></code> (Icon for general information packages).</p>
<h3>Package Contents</h3>
<table border="1" cellspacing="0" cellpadding="3">
<tr><th>Name</th><th>Description</th></tr><tr><td><a href="#DynamicHysteresis"><code>DynamicHysteresis</code></a></td><td>Dynamic Hysteresis (Eddy Currents)</td></tr>
<tr><td><a href="#HysteresisLosses"><code>HysteresisLosses</code></a></td><td>Hysteresis losses</td></tr>
<tr><td><a href="../../../../Magnetic/FluxTubes/UsersGuide/Hysteresis/StaticHysteresis/index.html"><code>StaticHysteresis</code></a> &hellip;</td><td>Static Hysteresis</td></tr>
</table>
<hr><a name="DynamicHysteresis"><h2><embed class="icon" src="../../../../images/icon0002.svg" width="203" height="203" />
Class <a href="../../../../index.html">Modelica</a>.&#8203;<a href="../../../index.html">Magnetic</a>.&#8203;<a href="../../index.html">FluxTubes</a>.&#8203;<a href="../index.html">UsersGuide</a>.&#8203;<a href="index.html">Hysteresis</a>.&#8203;DynamicHysteresis<br><span class="subtitle">Dynamic Hysteresis (Eddy Currents)</span></h2></a>
<h3>Information</h3>
<p>


<h4>Dynamic Hysteresis (Eddy Currents)</h4>

<p>
Some of the hysteresis flux tubes elements of the package <a href="../../Shapes/HysteresisAndMagnets/index.html">HysteresisAndMagnets</a> are capable of simulating eddy currents (dynamic hysteresis) additional to the static hysteresis behavior of the core material. The computation of eddy currents can be activated via the switch <code>includeEddyCurrents</code> in the "LossesAndHeat" tab of the corresponding elements parameter dialog. The total magnetic field strength <code>H</code> of the element is the sum of the ferromagnetic portion <code>Hstat</code> and the eddy current portion <code>Heddy:</code>
</p>

<table border="0" cellspacing="0" cellpadding="2">
  <tr>
    <td>
      <img src="../../../../../Images/Magnetic/FluxTubes/UsersGuide/Hysteresis/DynamicHysteresis/Eqn_EddyCurrent_Ht.png">
    </td>
  </tr>
</table>

<p>
The eddy current portion of the magnetic field strength is the product of the classical eddy current factor (<code>&sigma;<sub>cl</sub></code>) <a href="../index.html#Literature">[BE01,Te98]</a> and the time derivative of the magnetic flux density B(t):
</p>

<table border="0" cellspacing="0" cellpadding="2">
  <tr>
    <td>
      <img src="../../../../../Images/Magnetic/FluxTubes/UsersGuide/Hysteresis/DynamicHysteresis/Eqn_EddyCurrent_Heddy.png">
    </td>
  </tr>
</table>

<p>
Where <code>&sigma;</code> is the electrical conductivity and <code>d</code> the thickness of the used electric steel sheets. Fig. 1 shows the decomposition of an exemplary dynamic hysteresis in its static and eddy current portion.
</p>

<table border="0" cellspacing="0" cellpadding="2">
<caption align="bottom"><strong>Fig. 1:</strong> Static and dynamic portion of the hysteresis B(H)</caption>
  <tr>
    <td>
      <img src="../../../../../Images/Magnetic/FluxTubes/UsersGuide/Hysteresis/DynamicHysteresis/Eddy_BHBHstatBHeddy.png">
    </td>
  </tr>
</table>

<p>
The following two figures show a comparison between measured and simulated dynamic hysteresis at several frequencies. The measurements were performed with a 25 cm Epstein frame  according to DIN EN 60404-2. The magnetic core was made up of four layers of M330-50A steel sheet. The primary Winding of the used Epstein frame had 720 turns. The primary voltage was adjusted so that the magnetic excitation was about Hmax = 400 A/m, but 72 V in maximum. The simulation results (see Fig. 3) were generated with a simple model of this setup using the <a href="../../Shapes/HysteresisAndMagnets/index.html#GenericHystTellinenTable">GenericHystTellinenTable</a> hysteresis flux tube element for modeling the magnetic core.
</p>


<table border="0" cellspacing="0" cellpadding="2">
<caption align="bottom"><strong>Fig. 2:</strong> Dynamic hysteresis measurements with an 25 cm Epstein frame according to DIN EN 60404-2 (Material: M330-50A, 4 Sheets)</caption>
  <tr>
    <td>
      <img src="../../../../../Images/Magnetic/FluxTubes/UsersGuide/Hysteresis/DynamicHysteresis/EddyCurrent_Epstein_Meas.png">
    </td>
  </tr>
</table>

<table border="0" cellspacing="0" cellpadding="2">
<caption align="bottom"><strong>Fig. 3:</strong> Simulation results of a 25 cm Epstein frame model according to the measurement setup of Fig. 1</caption>
  <tr>
    <td>
      <img src="../../../../../Images/Magnetic/FluxTubes/UsersGuide/Hysteresis/DynamicHysteresis/EddyCurrent_Epstein_Sim.png">
    </td>
  </tr>
</table>


<p>Extends from <code><a href="../../../../Icons/index.html#Information">Modelica.&#8203;Icons.&#8203;Information</a></code> (Icon for general information packages).</p>
<hr><a name="HysteresisLosses"><h2><embed class="icon" src="../../../../images/icon0002.svg" width="203" height="203" />
Class <a href="../../../../index.html">Modelica</a>.&#8203;<a href="../../../index.html">Magnetic</a>.&#8203;<a href="../../index.html">FluxTubes</a>.&#8203;<a href="../index.html">UsersGuide</a>.&#8203;<a href="index.html">Hysteresis</a>.&#8203;HysteresisLosses<br><span class="subtitle">Hysteresis losses</span></h2></a>
<h3>Information</h3>
<p>

<h4>Hysteresis power losses</h4>
<p>The total power loss (<code>LossPower</code>) of an hysteresis flux tube element is the sum of the power loss due to the static ferromagnetic hysteresis (<code>LossPowerStat</code>) and the power loss due to eddy currents (<code>LossPowerEddy</code>).</p>

<table border="0" cellspacing="0" cellpadding="2">
  <tr>
    <td>
      <img src="../../../../../Images/Magnetic/FluxTubes/UsersGuide/Hysteresis/HysteresisLosses/Eqn_LossPower01.png">
    </td>
  </tr>
</table>

<p>
The two components <code>LossPowerStat</code> and <code>LossPowerEddy</code> can be calculated as follows.
</p>

<table border="0" cellspacing="0" cellpadding="2">
  <tr>
    <td>
      <img src="../../../../../Images/Magnetic/FluxTubes/UsersGuide/Hysteresis/HysteresisLosses/Eqn_LossPower02.png">
    </td>
  </tr>
</table>

<table border="0" cellspacing="0" cellpadding="2">
  <tr>
    <td>
      <img src="../../../../../Images/Magnetic/FluxTubes/UsersGuide/Hysteresis/HysteresisLosses/Eqn_LossPower03.png">
    </td>
  </tr>
</table>

<p>
Where <code>&sigma;<sub>cl</sub></code> is the classical eddy current factor (see <a href="index.html#DynamicHysteresis">UsersGuide.Hysteresis.DynamicHysteresis</a>) and V the volume of the core material. The equations show that <code>LossPowerStat</code> acts as power sink and power source (magnetic energy storage) whereas <code>LossPowerEddy</code> is always positive (Power sink). By means of an simple example the following figures show the time course of the magnetic flux density,  the magnetic field strength and the hysteresis losses. The pulsating course of the power loss (see Fig. 3c) makes it difficult to estimate an average loss. For this reason, the hysteresis flux tube elements are capable of directly computing the moving average of the power losses. Therefore, <code>t_avg</code> of the "LossesAndHeat" tab of the elements parameter dialog may be adjusted to set an adequate time interval (see Fig. 3d).
</p>

<table border="0" cellspacing="0" cellpadding="2">
  <caption align="bottom"><strong>Fig. 1:</strong> Diagram of a simple transformer with ferromagnetic core (model available at <a href="../../Examples/Hysteresis/index.html#SinglePhaseTransformerWithHysteresis1">Examples.Hysteresis.SinglePhaseTransformerWithHysteresis1</a>)</caption>
  <tr>
    <td>
      <img src="../../../../../Images/Magnetic/FluxTubes/UsersGuide/Hysteresis/HysteresisLosses/PowerLoss_Hysteresis01.png">
    </td>
  </tr>
</table>

<table border="0" cellspacing="0" cellpadding="2">
  <caption align="bottom"><strong>Fig. 2:</strong> Simulated total dynamic hysteresis loop with its static and eddy current fractions</caption>
  <tr>
    <td>
      <img src="../../../../../Images/Magnetic/FluxTubes/UsersGuide/Hysteresis/HysteresisLosses/PowerLoss_Hysteresis02.png">
    </td>
  </tr>
</table>

<table border="0" cellspacing="0" cellpadding="2">
  <caption align="bottom"><strong>Fig. 3:</strong> Simulated outputs of the <code>Core</code> component of Fig. 1</caption>
  <tr>
    <td>
      <img src="../../../../../Images/Magnetic/FluxTubes/UsersGuide/Hysteresis/HysteresisLosses/PowerLoss_Hysteresis03.png">
    </td>
  </tr>
</table>

<p>Extends from <code><a href="../../../../Icons/index.html#Information">Modelica.&#8203;Icons.&#8203;Information</a></code> (Icon for general information packages).</p>
<hr style="border-color:#999" />
<p style="font-size:80%;color:#999;margin-top:12px">Generated 2018-12-12 12:10:54 EST by <a href="http://maplesim.com"><i>MapleSim</i></a>.</p>
</body></html>
